# 🎵 Music Plugin - 网易云点歌插件（小程序卡片版）

## 插件简介
本插件专为群聊/私聊环境下的“网易云音乐点歌”场景设计，**核心亮点是通过 Napcat 发送“音乐小程序卡片”**，让点歌体验更原生、更美观，而非简单发送直链或文本信息。

## 主要功能
- **小程序卡片点歌**：自动识别用户点歌意图，优先以小程序卡片形式推送网易云音乐（ID卡片），支持群聊和私聊。
- **详细信息展示**：卡片失败时，自动补发歌曲详情、播放链接等信息。
- **灵活配置**：支持音质、API地址、显示选项等自定义。

## 使用方式

只需在群聊或私聊中发送如“我想听音乐”“点首歌”“来首music”等消息，插件会自动识别点歌意图并推送网易云音乐小程序卡片。

无需命令格式，体验更自然！

## 配置说明
插件首次运行会自动生成 `config.toml`，可配置：
- **API设置**：音乐API服务器地址
- **音质选择**：默认音质等级(1-9)
- **显示选项**：是否显示封面、下载链接等
- **功能开关**：各项功能的启用状态

## 依赖与环境
- **依赖**：aiohttp
- **API服务**：vkeys.cn 网易云音乐API
- **Napcat机器人**：
  - 必须在 Napcat 的“网络配置”中：
    - 建立 HTTP 服务器，监听 `127.0.0.1:4998`
    - 关闭 WebSocket
    - 关闭 CORS
    - 不启用 TOKEN
  - 只有满足以上设置，插件的音乐卡片功能才能正常使用。

## 版本信息
- 版本: 1.0.0
- 作者: MaiCore开发者

## 典型体验
- 群友点歌后，群内直接收到“网易云音乐小程序卡片”，可一键播放、查看专辑封面、歌手等信息。
- 若卡片发送失败，自动补发歌曲文本信息和直链，保证点歌体验不中断。

---

> ⚠️ **本插件主打“音乐小程序卡片”体验，非传统的直链/文本推送。推荐配合 Napcat 使用，享受原生卡片点歌！**
